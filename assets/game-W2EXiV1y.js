(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();function g(e){const t=[...e];for(let o=t.length-1;o>0;o--){const a=Math.floor(Math.random()*(o+1));[t[o],t[a]]=[t[a],t[o]]}return t}function T(e){return e?e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br>"):""}function m(e,t){e.opcoes.filter(a=>a.correta).length>=1&&t.push(e)}function h(e){const t=e.replace(/\r\n/g,`
`).split(`
`);let o={titulo:"",descricao:"",perguntas:[]},a="",i=!1,c="Geral",l=null,d=null;return t.forEach(u=>{const r=u.trim();if(r.startsWith("```md")){i=!0;return}if(r.startsWith("```")&&i){i=!1;return}if(i){a+=u+`
`;return}if(!r)return;if(r.startsWith("# ")){o.titulo=r.replace("# ","").trim();return}if(r.startsWith("## "))return;const p=r.match(/^__(.*?)__$/);if(p&&p[1]!==void 0){c=p[1].trim();return}if(r.startsWith("id:")){l&&m(l,o.perguntas),l={id:r.replace("id:","").trim(),categoria:c,enunciado:"",opcoes:[],dica:null};return}if(r.startsWith("### ")){l&&(l.enunciado=r.replace("### ","").trim());return}if(r.startsWith("[ ]")||r.startsWith("[x]")){if(l){const x=r.startsWith("[x]");d={texto:r.replace(/\[(x| )\]/,"").trim(),correta:x,explicacao:null},l.opcoes.push(d)}return}if((r.startsWith("-!")||r.startsWith("-["))&&d){d.explicacao=r.replace(/^(-!|-\[|\])/g,"").trim();return}if(r.startsWith("-#")&&l){l.dica=r.replace("-#","").trim();return}}),l&&m(l,o.perguntas),o.descricao=T(a),o}function b(e,t){return h(e).perguntas.map(a=>({...a,id:`${t.replace(".md","")}-${a.id}`}))}const y="quizSRSData";function z(){const e=localStorage.getItem(y);return e?JSON.parse(e):{}}function E(){confirm("Tem certeza? Isso apagarÃ¡ todo o histÃ³rico de aprendizado do Modo Treino.")&&(localStorage.removeItem(y),alert("MemÃ³ria limpa! O algoritmo recomeÃ§arÃ¡ do zero."),location.reload())}const f=e=>`/quiz-biblico//${e}`.replace(/\/+/g,"/"),s={lista:document.getElementById("lista-quizes"),stage:document.getElementById("quiz-stage"),progresso:document.getElementById("barra-progresso-container"),titulo:document.getElementById("titulo-quiz"),descricao:document.getElementById("descricao-quiz"),tempo:document.getElementById("display-tempo"),contador:document.getElementById("contador-perguntas"),selecao:document.getElementById("tela-selecao"),confete:document.getElementById("canvas-confete")},n={perguntas:[],indiceAtual:0,acertos:0,pontuacaoTotal:0,modoJogo:null,respondido:!1,dicasRestantes:2,tempoTotal:30,tempoRestante:30,timerInterval:null,srsStartTime:0};window.iniciarJogo=w;window.iniciarModoTreino=M;window.verificarResposta=S;window.mostrarDica=mostrarDica;window.transicaoProximaPergunta=q;window.resetarMemoriaSRS=E;function $(){A(),P()}function A(){s.lista&&fetch(f("quizes/index.json")).then(e=>e.json()).then(e=>{s.lista.innerHTML=e.map(t=>`<li><a href="quiz.html?id=${t.arquivo}">${t.titulo}</a></li>`).join("")}).catch(()=>{s.lista.innerHTML='<p style="text-align:center;">Erro ao carregar lista.</p>'})}function P(){if(!s.stage)return;const t=new URLSearchParams(window.location.search).get("id");t&&fetch(f(`quizes/${t}.md`)).then(o=>{if(!o.ok)throw new Error("Arquivo nÃ£o encontrado");return o.text()}).then(o=>{const a=h(o);s.titulo&&(s.titulo.innerText=a.titulo||"Quiz"),s.descricao&&a.descricao&&(s.descricao.innerHTML=a.descricao,s.descricao.style.display="block"),n.perguntas=a.perguntas,s.selecao.style.display="flex",s.stage.style.display="none"}).catch(o=>{console.error(o),s.titulo&&(s.titulo.innerText="Erro ao carregar"),s.stage.style.display="block"})}async function M(){try{const t=await(await fetch(f("quizes/index.json"))).json();let o=[];const a=t.map(async u=>{const p=await(await fetch(f(`quizes/${u.arquivo}.md?t=${Date.now()}`))).text();return b(p,u.arquivo)});(await Promise.all(a)).forEach(u=>o.push(...u));const c=z(),l=Date.now(),d=o.filter(u=>{const r=c[u.id];return r?l>=r.lastReviewed+r.interval*864e5:!0});if(d.length===0){alert("ðŸŽ‰ Tudo em dia!");return}n.perguntas=g(d).slice(0,50),w("treino")}catch(e){console.error(e)}}function w(e){n.modoJogo=e,n.indiceAtual=0,n.acertos=0,n.pontuacaoTotal=0,window.pontuacaoTotal=n.pontuacaoTotal,window.modoJogo=n.modoJogo,s.selecao.style.display="none",s.stage.style.display="grid",v(n.perguntas[0])}function v(e,t){n.respondido=!1,n.srsStartTime=Date.now(),s.contador&&(s.contador.innerText=`${n.indiceAtual+1} / ${n.perguntas.length}`);const o=g([...e.opcoes]),a=document.createElement("div");a.className="card-quiz ativo",a.innerHTML=`
    <div class="pergunta">${e.enunciado}</div>
    <div class="lista-opcoes">
      ${o.map((i,c)=>`
        <div class="opcao" data-is-correct="${i.correta}" onclick="window.verificarResposta(${c}, this)">
          ${i.texto}
        </div>
      `).join("")}
    </div>
    <button id="btn-prox" style="display:none" onclick="window.transicaoProximaPergunta()">PrÃ³xima âžœ</button>
  `,s.stage.innerHTML="",s.stage.appendChild(a)}function S(e,t){if(n.respondido)return;n.respondido=!0,t&&t.getAttribute("data-is-correct")==="true"?(t.classList.add("correta"),n.acertos++,n.pontuacaoTotal+=10,window.pontuacaoTotal=n.pontuacaoTotal):t&&t.classList.add("errada"),document.getElementById("btn-prox").style.display="block"}function q(){n.indiceAtual++,n.indiceAtual>=n.perguntas.length?s.stage.innerHTML=`<h2>Fim! Pontos: ${n.pontuacaoTotal}</h2><button onclick="location.reload()">Sair</button>`:v(n.perguntas[n.indiceAtual])}$();
